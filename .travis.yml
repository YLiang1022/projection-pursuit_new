language: python
python:
- 2.7
- 3.6
before_install:
- sudo apt-get install texlive-latex-base texlive-latex-extra
install:
- pip install numpy matplotlib scipy scikit-learn pytest coveralls sphinx sphinx-gallery
  pillow
script:
- sphinx-build doc out
- pdflatex -output-directory=out doc/math.tex
- coverage run --source=skpp -m pytest -s
after_success:
- coveralls
notifications:
  email:
  - pvlkmrv@gmail.com
deploy:
- provider: pages
  skip-cleanup: true
  github-token:
    secure: "PfO2Sg59Q7fT+YrlATDR0yjJTeWYY/i5Z37eafI79UAtsvMSbfLFJJGyhl7n4d2iDkIfa0j8Fod8krkLFaS1dfZhJJnKTpITX0CHflJ+AmrczzSz7469rlEsC4Dg0vnwsxXhovoVeNGLrmG3T5//hmuUm22G1Ky9ODW7BiyXubDgBKW6B3mMEM4+7IXgBPFLsM+ccUw8pPK6voWgr0CkJjgyC9lOs69V4vPBEsZQqsNtBj69GOfSvS2maHFPNHt3Z0o1gmPTdUGh3sbvZoq2AtZjnTRPU6fiIUMDZ3uFkW/k7FfdZHl/vbhj2Uy/UuIGufdBFFidFEpZIsE4iJToQMkyEZSWMg97ccyrrt/uHFBisZRood7b43HlS+FBU+JiBsDTKesItHepbfGs3KLFMnuoPWhCMAa+MpLGlNmmow+aU8d0Eyc1ADhbjmjlCwH+sgsAQ0OQGKg12QmT8CR9rC1Rn4jzyscp6Hj+3sgBfZy90dPe4dsGj1wFiPEo7LTPx4JbaAeYEMUCc7b/jambIKUyXp16gWXI5j5su+Hu2O8D0o8a20Ydg4gVziyWcu2FByUIo5Ov3DVLBSMQb/8hI8ViGz29PzcIdKtCk8pdDQYKXrgPyLH3LhUtiX/gW3XJUooW/C28BLtCtPt2eJb/3J27tORp5Nk3ebKwNr0dMRM="
  local-dir: out
  on:
    branch: master
    python: '2.7'
- provider: pypi
  user: pavelkomarov
  password:
    secure: L12e2JIGYwgiK+0s1pp2A/OsdZmRQALXbMTEjOWTNurWhTxXZZJ9R+M6U2M9ZmkxZ6we3maZ3Bcuv10zzvi/LoE0VIgaaL+kLHYkq1hPe83wxdmEepk4/uzIABy6XKunx59ennMJSaMZM+9Ks5VzZ1GuVhKhpt13FQQbbKX4uw9lywalzkuKbyD20boaJeJfKAkXguQAzquZB1+n1cpeKO/2qkMQ+2M6iSIT+kM0qPZrS6xJ5ENrjxlDqIuDLlw/XZqRUyEdm9SKDYycq9Imw5aOFI2uTyrjowBlTRNTqbclo6NOak4YQ5zGzk0Rqq2tQKXgamEhmF5JwACQo1DsJapK7ihJC+blSIlkDSvrmUivgjJmF8GdFzgSumek60MRwqqs9t9PdmV/p3rzm+nlcstpwh3s7DVMTLMGkXXqdr2CJAQXFb0QRag6chURAPRSA4N6Z8bm45LURwJq5mHetm9tbxQHoWwV1/SIjQ2wgAeTZNog1jCk/4LSdDCTrAx1/0MVjVUOIY+hlH4UvZDS61CSeDEZUH4HTttz+Zbf01byu63LyC6mg7WwTMRHGc8T36c/XPrKzgSVkLqeDOZVani9hakUvcHT5EyMYXUZmECQ7GTHRB4Ttf2wREPSIRX1FdOnm10+JUb9YqRkVHbvb/ye+1l1DNLcmBNGOLyQb9M=
  on:
    tags: true
    branch: master
    python: '3.6'

